# indicators.yml — compatible with ONS API v1
# Notes:
# - 'dataset_map' tells the app which v1 dataset each series code belongs to.
# - CPI/CPIH families are in MM23. Add more mappings over time for non-CPI series.
# - Keep 'ons_api_base' as a fallback during the transition away from legacy endpoints.

ons_api_base: "https://api.ons.gov.uk/timeseries/{code}/data"

# ---- v1 dataset mapping (required for v1 calls; extend as needed) ----
dataset_map:
  # Headline CPI/CPIH/RPI families (MM23)
  D7BT: "MM23"   # CPI (All items, 2015=100)
  L522: "MM23"   # CPIH (All items incl. OOH, 2015=100)
  CHAW: "MM23"   # RPI (All items, Jan 1987=100)

  # Common CPI component aggregates (MM23)
  D7BU: "MM23"   # CPI: Food & Non-Alcoholic Beverages
  D7BZ: "MM23"   # CPI: Energy (Electricity, Gas, Fuels)
  K35M: "MM23"   # CPI: Water Supply & Sewerage
  K37M: "MM23"   # CPI: Transport Services
  K35Q: "MM23"   # CPI: Health
  K35X: "MM23"   # CPI: Education

  # (Optional) Add more as you verify:
  # L55N: "MM22"   # PPI Input (All materials & fuels)  — TODO: confirm dataset
  # L55O: "MM22"   # PPI Output (Factory gate)          — TODO: confirm dataset
  # K62P: "MM22"   # PPI Agricultural Inputs            — TODO: confirm dataset
  # K62Q: "MM22"   # PPI Agricultural Outputs           — TODO: confirm dataset
  # MGS6: "MM19"   # Import Price Index (Goods)         — TODO: confirm dataset
  # MGS7: "MM19"   # Export Price Index (Goods)         — TODO: confirm dataset
  # K64R: "MM??"   # Construction Materials Price Index — TODO: confirm dataset
  # K5F5: "MM??"   # Construction Output Price Index    — TODO: confirm dataset
  # KAB9: "MM??"   # Average Weekly Earnings (Total pay) — TODO: confirm dataset
  # A4YN: "MM??"   # Unit Labour Costs (ULC)             — TODO: confirm dataset
  # YBHA: "MM??"   # GDP Deflator                         — TODO: confirm dataset

# Full URL overrides if a specific series needs a bespoke path (rare).
endpoint_override: {}

# ---- Indicator groups shown in the sidebar ----
groups:

  Consumer Inflation:
    - name: "CPI (All items, 2015=100)"
      code: "D7BT"
      frequency: "Monthly"
    - name: "CPIH (incl. OOH, 2015=100)"
      code: "L522"
      frequency: "Monthly"
    - name: "RPI (All items, Jan 1987=100)"
      code: "CHAW"
      frequency: "Monthly"

  Sectoral CPI Components:
    - name: "CPI: Food & Non-Alcoholic Beverages"
      code: "D7BU"
      frequency: "Monthly"
    - name: "CPI: Energy (Electricity, Gas, Fuels)"
      code: "D7BZ"
      frequency: "Monthly"
    - name: "CPI: Water Supply & Sewerage"
      code: "K35M"
      frequency: "Monthly"
    - name: "CPI: Transport Services"
      code: "K37M"
      frequency: "Monthly"
    - name: "CPI: Health"
      code: "K35Q"
      frequency: "Monthly"
    - name: "CPI: Education"
      code: "K35X"
      frequency: "Monthly"

  Producer & Trade Prices:
    - name: "PPI Input (All materials & fuels)"
      code: "L55N"
      frequency: "Monthly"
    - name: "PPI Output (Factory Gate)"
      code: "L55O"
      frequency: "Monthly"
    - name: "PPI Agricultural Inputs"
      code: "K62P"
      frequency: "Monthly"
    - name: "PPI Agricultural Outputs"
      code: "K62Q"
      frequency: "Monthly"
    - name: "Import Price Index (Goods)"
      code: "MGS6"
      frequency: "Monthly"
    - name: "Export Price Index (Goods)"
      code: "MGS7"
      frequency: "Monthly"

  Construction:
    - name: "Construction Materials Price Index"
      code: "K64R"
      frequency: "Monthly"
    - name: "Construction Output Price Index (OPI)"
      code: "K5F5"
      frequency: "Monthly/Quarterly"

  Labour & Macro:
    - name: "Average Weekly Earnings (AWE) - Total Pay"
      code: "KAB9"
      frequency: "Monthly"
    - name: "Unit Labour Costs (ULC)"
      code: "A4YN"
      frequency: "Quarterly"
    - name: "GDP Deflator (Whole Economy)"
      code: "YBHA"
      frequency: "Quarterly"
